{"ast":null,"code":"import _slicedToArray from\"C:/Users/mohammed rafeeque/Desktop/sample/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Grid}from\"@material-ui/core\";import{useEffect,useRef,useState}from\"react\";import Feed from\"../../components/home/feed/Feed\";import Leftbar from\"../../components/home/leftbar/Leftbar\";import Rightbar from\"../../components/home/rightbar/Rightbar\";import Navbar from\"../../components/Navbar/Navbar\";import{useNavigate}from\"react-router-dom\";import{useParams}from'react-router';import Favourite from\"../../components/favourite/Favourite\";import{io}from\"socket.io-client\";import{useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),menu=_useState2[0],setMenu=_useState2[1];var navigate=useNavigate();var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),onlineUsers=_useState4[0],setOnlineUsers=_useState4[1];var socket=useRef();var userDetails=useSelector(function(state){return state.userDetails;});var loading=userDetails.loading,error=userDetails.error,user=userDetails.user;useEffect(function(){var token=localStorage.getItem(\"token\");if(!token){navigate(\"/login\");}});useEffect(function(){socket.current=io(\"ws://localhost:8900\");socket.current.emit(\"addUser\",user._id);socket.current.on(\"getUsers\",function(users){var _user$following;setOnlineUsers((_user$following=user.following)===null||_user$following===void 0?void 0:_user$following.filter(function(f){return users.some(function(u){return u.userId===f;});}));});},[]);var _useParams=useParams(),favourite=_useParams.favourite;// ! this is critical comments\n// * this is a highlighted comment\n// todo: this is todo comment\n// ? this a question comment\n// this is a normal comment\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navbar,{val:setMenu,menu:menu}),/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Grid,{item:true,sm:2,xs:12,children:/*#__PURE__*/_jsx(Leftbar,{val:menu})}),/*#__PURE__*/_jsx(Grid,{item:true,sm:7,xs:12,children:favourite?/*#__PURE__*/_jsx(Favourite,{}):/*#__PURE__*/_jsx(Feed,{})}),/*#__PURE__*/_jsx(Grid,{item:true,sm:3,children:/*#__PURE__*/_jsx(Rightbar,{onlineUsers:onlineUsers})})]})]});}export default Home;","map":{"version":3,"sources":["C:/Users/mohammed rafeeque/Desktop/sample/frontend/src/pages/user/Home.jsx"],"names":["Grid","useEffect","useRef","useState","Feed","Leftbar","Rightbar","Navbar","useNavigate","useParams","Favourite","io","useSelector","Home","menu","setMenu","navigate","onlineUsers","setOnlineUsers","socket","userDetails","state","loading","error","user","token","localStorage","getItem","current","emit","_id","on","users","following","filter","f","some","u","userId","favourite"],"mappings":"wIAAA,OAASA,IAAT,KAAqB,mBAArB,CACA,OAASC,SAAT,CAAoBC,MAApB,CAA4BC,QAA5B,KAA4C,OAA5C,CACA,MAAOC,CAAAA,IAAP,KAAiB,iCAAjB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uCAApB,CACA,MAAOC,CAAAA,QAAP,KAAqB,yCAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,gCAAnB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAAQC,SAAR,KAAwB,cAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,sCAAtB,CACA,OAASC,EAAT,KAAmB,kBAAnB,CACA,OAASC,WAAT,KAA4B,aAA5B,C,wFAGA,QAASC,CAAAA,IAAT,EAAgB,CACd,cAAwBV,QAAQ,CAAC,KAAD,CAAhC,wCAAOW,IAAP,eAAaC,OAAb,eACA,GAAMC,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CACA,eAAqCL,QAAQ,CAAC,EAAD,CAA7C,yCAAMc,WAAN,eAAmBC,cAAnB,eACA,GAAMC,CAAAA,MAAM,CAAGjB,MAAM,EAArB,CACA,GAAMkB,CAAAA,WAAW,CAAGR,WAAW,CAAC,SAACS,KAAD,QAAWA,CAAAA,KAAK,CAACD,WAAjB,EAAD,CAA/B,CACA,GAAQE,CAAAA,OAAR,CAAiCF,WAAjC,CAAQE,OAAR,CAAiBC,KAAjB,CAAiCH,WAAjC,CAAiBG,KAAjB,CAAwBC,IAAxB,CAAiCJ,WAAjC,CAAwBI,IAAxB,CACAvB,SAAS,CAAC,UAAM,CACd,GAAMwB,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CACA,GAAI,CAACF,KAAL,CAAY,CACVT,QAAQ,CAAC,QAAD,CAAR,CACD,CACF,CALQ,CAAT,CAQAf,SAAS,CAAC,UAAM,CACdkB,MAAM,CAACS,OAAP,CAAiBjB,EAAE,CAAC,qBAAD,CAAnB,CACAQ,MAAM,CAACS,OAAP,CAAeC,IAAf,CAAoB,SAApB,CAA+BL,IAAI,CAACM,GAApC,EACAX,MAAM,CAACS,OAAP,CAAeG,EAAf,CAAkB,UAAlB,CAA8B,SAACC,KAAD,CAAW,qBACvCd,cAAc,kBAACM,IAAI,CAACS,SAAN,0CAAC,gBAAgBC,MAAhB,CAAuB,SAAAC,CAAC,QAAEH,CAAAA,KAAK,CAACI,IAAN,CAAW,SAAAC,CAAC,QAAEA,CAAAA,CAAC,CAACC,MAAF,GAAYH,CAAd,EAAZ,CAAF,EAAxB,CAAD,CAAd,CACD,CAFD,EAGD,CANQ,CAMN,EANM,CAAT,CAWA,eAAmB1B,SAAS,EAA5B,CAAM8B,SAAN,YAAMA,SAAN,CACF;AACA;AACA;AACA;AACA;AACE,mBACE,aAAK,SAAS,CAAC,KAAf,wBACE,KAAC,MAAD,EAAQ,GAAG,CAAExB,OAAb,CAAsB,IAAI,CAAED,IAA5B,EADF,cAGE,MAAC,IAAD,EAAM,SAAS,KAAf,wBACE,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,CAAkB,EAAE,CAAE,EAAtB,uBACE,KAAC,OAAD,EAAS,GAAG,CAAEA,IAAd,EADF,EADF,cAIE,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,CAAkB,EAAE,CAAE,EAAtB,UACEyB,SAAS,cAAE,KAAC,SAAD,IAAF,cAAgB,KAAC,IAAD,IAD3B,EAJF,cAOE,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,uBACE,KAAC,QAAD,EAAU,WAAW,CAAEtB,WAAvB,EADF,EAPF,GAHF,GADF,CAiBD,CAED,cAAeJ,CAAAA,IAAf","sourcesContent":["import { Grid } from \"@material-ui/core\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport Feed from \"../../components/home/feed/Feed\";\r\nimport Leftbar from \"../../components/home/leftbar/Leftbar\";\r\nimport Rightbar from \"../../components/home/rightbar/Rightbar\";\r\nimport Navbar from \"../../components/Navbar/Navbar\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {useParams} from 'react-router'\r\nimport Favourite from \"../../components/favourite/Favourite\";\r\nimport { io } from \"socket.io-client\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\n\r\nfunction Home() {\r\n  const [menu, setMenu] = useState(false);\r\n  const navigate = useNavigate();\r\n  const[onlineUsers, setOnlineUsers] = useState([])\r\n  const socket = useRef();\r\n  const userDetails = useSelector((state) => state.userDetails);\r\n  const { loading, error, user } = userDetails;\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      navigate(\"/login\")\r\n    }\r\n  })\r\n\r\n\r\n  useEffect(() => {\r\n    socket.current = io(\"ws://localhost:8900\");\r\n    socket.current.emit(\"addUser\", user._id);\r\n    socket.current.on(\"getUsers\", (users) => {\r\n      setOnlineUsers(user.following?.filter(f=>users.some(u=>u.userId ===f)))\r\n    });\r\n  }, []);\r\n\r\n  \r\n\r\n\r\n  const{favourite} = useParams()\r\n// ! this is critical comments\r\n// * this is a highlighted comment\r\n// todo: this is todo comment\r\n// ? this a question comment\r\n// this is a normal comment\r\n  return (\r\n    <div className=\"App\">\r\n      <Navbar val={setMenu} menu={menu} />\r\n\r\n      <Grid container>\r\n        <Grid item sm={2} xs={12}>\r\n          <Leftbar val={menu} />\r\n        </Grid>\r\n        <Grid item sm={7} xs={12}>\r\n         {favourite? <Favourite/> :<Feed />} \r\n        </Grid>\r\n        <Grid item sm={3}>\r\n          <Rightbar onlineUsers={onlineUsers} />\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}