{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mohammed rafeeque\\\\Desktop\\\\sample\\\\frontend\\\\src\\\\components\\\\favourite\\\\FavouriteList.jsx\",\n    _s = $RefreshSig$();\n\nimport { Box, Button, Card, Dialog, DialogActions, DialogContent, DialogTitle, makeStyles, Typography } from \"@material-ui/core\";\nimport { Close, Delete, Remove } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { listuserDetails } from \"../../actions/productAction\";\nimport PostView from \"../home/feed/PostView\";\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  main: {\n    marginTop: theme.spacing(15),\n    margin: theme.spacing(5)\n  },\n  card: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    marginTop: theme.spacing(2)\n  },\n  title: {\n    margin: theme.spacing(2),\n    fontWeight: 500\n  },\n  box: {\n    display: \"flex\",\n    marginLeft: theme.spacing(2)\n  },\n  postImg: {\n    width: \"100px\",\n    height: \"100px\"\n  },\n  profileImg: {\n    width: \"25px\",\n    height: \"25px\",\n    borderRadius: \"50%\" // marginTop:theme.spacing(2)\n\n  },\n  postNametext: {\n    fontWeight: 600\n  },\n  userInfo: {\n    display: \"flex\",\n    marginTop: theme.spacing()\n  },\n  info: {\n    marginLeft: theme.spacing(3)\n  }\n}));\n\nfunction FavouriteList(_ref) {\n  _s();\n\n  let {\n    postId\n  } = _ref;\n  console.log(postId);\n  const userDetails = useSelector(state => state.userDetails);\n  const {\n    loading,\n    error,\n    user\n  } = userDetails;\n  const [post, setPost] = useState(\"\");\n  const [postOwner, setPostOwner] = useState(\"\");\n  const [confirm, setConfirm] = useState(\"\");\n  const [refresh, setRefresh] = useState(false);\n  const [openPost, setOpenPost] = useState(false);\n  const classes = useStyles();\n  useEffect(() => {\n    const fetchPost = async () => {\n      const res = await axios.get(\"/api/post/\" + postId);\n      setPost(res.data);\n    };\n\n    fetchPost();\n  }, [user, refresh]);\n  useEffect(() => {\n    const postOwnerFetch = async () => {\n      const res = await axios.post(\"/api/user/\", {\n        userId: post.userId\n      });\n      setPostOwner(res.data);\n    };\n\n    postOwnerFetch();\n  }, [post, refresh]);\n\n  const deleteHandle = async () => {\n    const res = await axios.put(\"/api/post/\" + post._id + \"/favourite\", {\n      userId: user._id\n    });\n    setRefresh(!refresh);\n    setConfirm(false);\n  };\n\n  const deleteConfirm = async () => {\n    setConfirm(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Dialog, {\n      style: {\n        padding: '80px',\n        paddingTop: '20px'\n      },\n      fullWidth: true,\n      open: openPost,\n      onClose: () => setOpenPost(false),\n      children: [/*#__PURE__*/_jsxDEV(Close, {\n        style: {\n          position: 'absolute',\n          right: 8,\n          top: 8\n        },\n        onClick: () => setOpenPost(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          margin: '20px'\n        },\n        children: /*#__PURE__*/_jsxDEV(PostView, {\n          post: post\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: classes.card,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          className: classes.box,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              onClick: () => setOpenPost(true),\n              className: classes.postImg,\n              src: post.img,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.info,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.postNametext,\n              children: moment(post.createdAt).format('LLLL')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.userInfo,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: classes.profileImg,\n                src: postOwner ? postOwner.profilePicture : 'https://www.kindpng.com/picc/m/207-2074624_white-gray-circle-avatar-png-transparent-png.png',\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                style: {\n                  marginLeft: \"5px\"\n                },\n                component: \"span\",\n                children: [\"saved from\", \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 17\n              }, this), \" \", \"\\xA0\", /*#__PURE__*/_jsxDEV(Typography, {\n                style: {\n                  fontWeight: 600\n                },\n                component: \"span\",\n                children: [postOwner === null || postOwner === void 0 ? void 0 : postOwner.username, \"'s Post\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: deleteConfirm,\n        children: /*#__PURE__*/_jsxDEV(Delete, {\n          style: {\n            margin: \"10px\",\n            color: \"#0D8E8E\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n        open: confirm,\n        onClose: () => setConfirm(false),\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          style: {\n            fontWeight: 700\n          },\n          children: \"Delete?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          children: \"Do you want to delete item from Favourite\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => deleteHandle(),\n            variant: \"contained\",\n            style: {\n              color: \"white\",\n              backgroundColor: \"#0D8E8E\"\n            },\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            onClick: () => setConfirm(false),\n            style: {\n              color: \"#0D8E8E\",\n              backgroundColor: \"white\"\n            },\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(FavouriteList, \"fR4ldLUatmdG1pP1zD42BVTg/hg=\", false, function () {\n  return [useSelector, useStyles];\n});\n\n_c = FavouriteList;\nexport default FavouriteList;\n\nvar _c;\n\n$RefreshReg$(_c, \"FavouriteList\");","map":{"version":3,"sources":["C:/Users/mohammed rafeeque/Desktop/sample/frontend/src/components/favourite/FavouriteList.jsx"],"names":["Box","Button","Card","Dialog","DialogActions","DialogContent","DialogTitle","makeStyles","Typography","Close","Delete","Remove","axios","useEffect","useState","useDispatch","useSelector","listuserDetails","PostView","moment","useStyles","theme","main","marginTop","spacing","margin","card","display","justifyContent","title","fontWeight","box","marginLeft","postImg","width","height","profileImg","borderRadius","postNametext","userInfo","info","FavouriteList","postId","console","log","userDetails","state","loading","error","user","post","setPost","postOwner","setPostOwner","confirm","setConfirm","refresh","setRefresh","openPost","setOpenPost","classes","fetchPost","res","get","data","postOwnerFetch","userId","deleteHandle","put","_id","deleteConfirm","padding","paddingTop","position","right","top","img","createdAt","format","profilePicture","username","color","backgroundColor"],"mappings":";;;AAAA,SACEA,GADF,EAEEC,MAFF,EAGEC,IAHF,EAIEC,MAJF,EAKEC,aALF,EAMEC,aANF,EAOEC,WAPF,EAQEC,UARF,EASEC,UATF,QAUO,mBAVP;AAWA,SAASC,KAAT,EAAgBC,MAAhB,EAAwBC,MAAxB,QAAsC,oBAAtC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,eAAT,QAAgC,6BAAhC;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,MAAP,MAAmB,QAAnB;;;AAEA,MAAMC,SAAS,GAAGb,UAAU,CAAEc,KAAD,KAAY;AACvCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,SAAS,EAAEF,KAAK,CAACG,OAAN,CAAc,EAAd,CADP;AAEJC,IAAAA,MAAM,EAAEJ,KAAK,CAACG,OAAN,CAAc,CAAd;AAFJ,GADiC;AAKvCE,EAAAA,IAAI,EAAE;AACJC,IAAAA,OAAO,EAAE,MADL;AAEJC,IAAAA,cAAc,EAAE,eAFZ;AAGJL,IAAAA,SAAS,EAAEF,KAAK,CAACG,OAAN,CAAc,CAAd;AAHP,GALiC;AAUvCK,EAAAA,KAAK,EAAE;AACLJ,IAAAA,MAAM,EAAEJ,KAAK,CAACG,OAAN,CAAc,CAAd,CADH;AAELM,IAAAA,UAAU,EAAE;AAFP,GAVgC;AAcvCC,EAAAA,GAAG,EAAE;AACHJ,IAAAA,OAAO,EAAE,MADN;AAEHK,IAAAA,UAAU,EAAEX,KAAK,CAACG,OAAN,CAAc,CAAd;AAFT,GAdkC;AAkBvCS,EAAAA,OAAO,EAAE;AACPC,IAAAA,KAAK,EAAE,OADA;AAEPC,IAAAA,MAAM,EAAE;AAFD,GAlB8B;AAsBvCC,EAAAA,UAAU,EAAE;AACVF,IAAAA,KAAK,EAAE,MADG;AAEVC,IAAAA,MAAM,EAAE,MAFE;AAGVE,IAAAA,YAAY,EAAE,KAHJ,CAIV;;AAJU,GAtB2B;AA4BvCC,EAAAA,YAAY,EAAE;AACZR,IAAAA,UAAU,EAAE;AADA,GA5ByB;AA+BvCS,EAAAA,QAAQ,EAAE;AACRZ,IAAAA,OAAO,EAAE,MADD;AAERJ,IAAAA,SAAS,EAAEF,KAAK,CAACG,OAAN;AAFH,GA/B6B;AAmCvCgB,EAAAA,IAAI,EAAE;AACJR,IAAAA,UAAU,EAAEX,KAAK,CAACG,OAAN,CAAc,CAAd;AADR;AAnCiC,CAAZ,CAAD,CAA5B;;AAwCA,SAASiB,aAAT,OAAmC;AAAA;;AAAA,MAAZ;AAAEC,IAAAA;AAAF,GAAY;AACjCC,EAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AAEA,QAAMG,WAAW,GAAG7B,WAAW,CAAE8B,KAAD,IAAWA,KAAK,CAACD,WAAlB,CAA/B;AACA,QAAM;AAAEE,IAAAA,OAAF;AAAWC,IAAAA,KAAX;AAAkBC,IAAAA;AAAlB,MAA2BJ,WAAjC;AACA,QAAM,CAACK,IAAD,EAAOC,OAAP,IAAkBrC,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACsC,SAAD,EAAYC,YAAZ,IAA4BvC,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACwC,OAAD,EAAUC,UAAV,IAAwBzC,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAK,CAAC0C,OAAD,EAAUC,UAAV,IAAwB3C,QAAQ,CAAC,KAAD,CAArC;AACA,QAAK,CAAC4C,QAAD,EAAWC,WAAX,IAA0B7C,QAAQ,CAAC,KAAD,CAAvC;AAEA,QAAM8C,OAAO,GAAGxC,SAAS,EAAzB;AACAP,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMgD,SAAS,GAAG,YAAY;AAC5B,YAAMC,GAAG,GAAG,MAAMlD,KAAK,CAACmD,GAAN,CAAU,eAAerB,MAAzB,CAAlB;AACAS,MAAAA,OAAO,CAACW,GAAG,CAACE,IAAL,CAAP;AACD,KAHD;;AAIAH,IAAAA,SAAS;AACV,GANQ,EAMN,CAACZ,IAAD,EAAMO,OAAN,CANM,CAAT;AAQA3C,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMoD,cAAc,GAAG,YAAY;AACjC,YAAMH,GAAG,GAAG,MAAMlD,KAAK,CAACsC,IAAN,CAAW,YAAX,EAAyB;AAAEgB,QAAAA,MAAM,EAAEhB,IAAI,CAACgB;AAAf,OAAzB,CAAlB;AACAb,MAAAA,YAAY,CAACS,GAAG,CAACE,IAAL,CAAZ;AACD,KAHD;;AAIAC,IAAAA,cAAc;AACf,GANQ,EAMN,CAACf,IAAD,EAAOM,OAAP,CANM,CAAT;;AAQA,QAAMW,YAAY,GAAG,YAAY;AAC/B,UAAML,GAAG,GAAG,MAAMlD,KAAK,CAACwD,GAAN,CAAU,eAAelB,IAAI,CAACmB,GAApB,GAA0B,YAApC,EAAkD;AAClEH,MAAAA,MAAM,EAAEjB,IAAI,CAACoB;AADqD,KAAlD,CAAlB;AAGAZ,IAAAA,UAAU,CAAC,CAACD,OAAF,CAAV;AACAD,IAAAA,UAAU,CAAC,KAAD,CAAV;AACD,GAND;;AAOA,QAAMe,aAAa,GAAG,YAAY;AAChCf,IAAAA,UAAU,CAAC,IAAD,CAAV;AACD,GAFD;;AAIA,sBACE;AAAA,4BACA,QAAC,MAAD;AAAQ,MAAA,KAAK,EAAE;AAACgB,QAAAA,OAAO,EAAC,MAAT;AAAiBC,QAAAA,UAAU,EAAC;AAA5B,OAAf;AAAoD,MAAA,SAAS,MAA7D;AAA8D,MAAA,IAAI,EAAEd,QAApE;AAA8E,MAAA,OAAO,EAAE,MAAIC,WAAW,CAAC,KAAD,CAAtG;AAAA,8BACE,QAAC,KAAD;AAAO,QAAA,KAAK,EAAE;AAACc,UAAAA,QAAQ,EAAC,UAAV;AAAsBC,UAAAA,KAAK,EAAC,CAA5B;AAA+BC,UAAAA,GAAG,EAAC;AAAnC,SAAd;AAAqD,QAAA,OAAO,EAAE,MAAIhB,WAAW,CAAC,KAAD;AAA7E;AAAA;AAAA;AAAA;AAAA,cADF,eAEI;AAAK,QAAA,KAAK,EAAE;AAAClC,UAAAA,MAAM,EAAC;AAAR,SAAZ;AAAA,+BACE,QAAC,QAAD;AAAU,UAAA,IAAI,EAAEyB;AAAhB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,eAOE,QAAC,IAAD;AAAM,MAAA,SAAS,EAAEU,OAAO,CAAClC,IAAzB;AAAA,8BACE;AAAA,+BACE,QAAC,GAAD;AAAK,UAAA,SAAS,EAAEkC,OAAO,CAAC7B,GAAxB;AAAA,kCACE;AAAA,mCACE;AAAK,cAAA,OAAO,EAAE,MAAI4B,WAAW,CAAC,IAAD,CAA7B;AAAqC,cAAA,SAAS,EAAEC,OAAO,CAAC3B,OAAxD;AAAiE,cAAA,GAAG,EAAEiB,IAAI,CAAC0B,GAA3E;AAAgF,cAAA,GAAG,EAAC;AAApF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE;AAAK,YAAA,SAAS,EAAEhB,OAAO,CAACpB,IAAxB;AAAA,oCACE,QAAC,UAAD;AAAY,cAAA,SAAS,EAAEoB,OAAO,CAACtB,YAA/B;AAAA,wBACGnB,MAAM,CAAC+B,IAAI,CAAC2B,SAAN,CAAN,CAAuBC,MAAvB,CAA8B,MAA9B;AADH;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE;AAAK,cAAA,SAAS,EAAElB,OAAO,CAACrB,QAAxB;AAAA,sCACE;AACE,gBAAA,SAAS,EAAEqB,OAAO,CAACxB,UADrB;AAEE,gBAAA,GAAG,EAAEgB,SAAS,GAACA,SAAS,CAAC2B,cAAX,GAA0B,6FAF1C;AAGE,gBAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA,sBADF,eAOE,QAAC,UAAD;AAAY,gBAAA,KAAK,EAAE;AAAE/C,kBAAAA,UAAU,EAAE;AAAd,iBAAnB;AAA0C,gBAAA,SAAS,EAAC,MAApD;AAAA,yCACa,GADb;AAAA;AAAA;AAAA;AAAA;AAAA,sBAPF,EASgB,GAThB,uBAWE,QAAC,UAAD;AAAY,gBAAA,KAAK,EAAE;AAAEF,kBAAAA,UAAU,EAAE;AAAd,iBAAnB;AAAwC,gBAAA,SAAS,EAAC,MAAlD;AAAA,2BACGsB,SADH,aACGA,SADH,uBACGA,SAAS,CAAE4B,QADd;AAAA;AAAA;AAAA;AAAA;AAAA,sBAXF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eA4BE;AAAK,QAAA,OAAO,EAAEV,aAAd;AAAA,+BACE,QAAC,MAAD;AAAQ,UAAA,KAAK,EAAE;AAAE7C,YAAAA,MAAM,EAAE,MAAV;AAAkBwD,YAAAA,KAAK,EAAE;AAAzB;AAAf;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cA5BF,eAgCE,QAAC,MAAD;AAAQ,QAAA,IAAI,EAAE3B,OAAd;AAAuB,QAAA,OAAO,EAAE,MAAMC,UAAU,CAAC,KAAD,CAAhD;AAAA,gCACE,QAAC,WAAD;AAAa,UAAA,KAAK,EAAE;AAAEzB,YAAAA,UAAU,EAAE;AAAd,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,eAME,QAAC,aAAD;AAAA,kCACE,QAAC,MAAD;AACE,YAAA,OAAO,EAAE,MAAMqC,YAAY,EAD7B;AAEE,YAAA,OAAO,EAAC,WAFV;AAGE,YAAA,KAAK,EAAE;AAAEc,cAAAA,KAAK,EAAE,OAAT;AAAkBC,cAAAA,eAAe,EAAE;AAAnC,aAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAQE,QAAC,MAAD;AACE,YAAA,OAAO,EAAC,WADV;AAEE,YAAA,OAAO,EAAE,MAAM3B,UAAU,CAAC,KAAD,CAF3B;AAGE,YAAA,KAAK,EAAE;AAAE0B,cAAAA,KAAK,EAAE,SAAT;AAAoBC,cAAAA,eAAe,EAAE;AAArC,aAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBARF;AAAA;AAAA;AAAA;AAAA;AAAA,gBANF;AAAA;AAAA;AAAA;AAAA;AAAA,cAhCF;AAAA;AAAA;AAAA;AAAA;AAAA,YAPF;AAAA,kBADF;AAkED;;GAzGQzC,a;UAGazB,W,EAQJI,S;;;KAXTqB,a;AA2GT,eAAeA,aAAf","sourcesContent":["import {\r\n  Box,\r\n  Button,\r\n  Card,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  makeStyles,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { Close, Delete, Remove } from \"@material-ui/icons\";\r\nimport axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { listuserDetails } from \"../../actions/productAction\";\r\nimport PostView from \"../home/feed/PostView\";\r\nimport moment from 'moment'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  main: {\r\n    marginTop: theme.spacing(15),\r\n    margin: theme.spacing(5),\r\n  },\r\n  card: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  title: {\r\n    margin: theme.spacing(2),\r\n    fontWeight: 500,\r\n  },\r\n  box: {\r\n    display: \"flex\",\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n  postImg: {\r\n    width: \"100px\",\r\n    height: \"100px\",\r\n  },\r\n  profileImg: {\r\n    width: \"25px\",\r\n    height: \"25px\",\r\n    borderRadius: \"50%\",\r\n    // marginTop:theme.spacing(2)\r\n  },\r\n  postNametext: {\r\n    fontWeight: 600,\r\n  },\r\n  userInfo: {\r\n    display: \"flex\",\r\n    marginTop: theme.spacing(),\r\n  },\r\n  info: {\r\n    marginLeft: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nfunction FavouriteList({ postId }) {\r\n  console.log(postId);\r\n\r\n  const userDetails = useSelector((state) => state.userDetails);\r\n  const { loading, error, user } = userDetails;\r\n  const [post, setPost] = useState(\"\");\r\n  const [postOwner, setPostOwner] = useState(\"\");\r\n  const [confirm, setConfirm] = useState(\"\");\r\n  const[refresh, setRefresh] = useState(false)\r\n  const[openPost, setOpenPost] = useState(false)\r\n\r\n  const classes = useStyles();\r\n  useEffect(() => {\r\n    const fetchPost = async () => {\r\n      const res = await axios.get(\"/api/post/\" + postId);\r\n      setPost(res.data);\r\n    };\r\n    fetchPost();\r\n  }, [user,refresh]);\r\n\r\n  useEffect(() => {\r\n    const postOwnerFetch = async () => {\r\n      const res = await axios.post(\"/api/user/\", { userId: post.userId });\r\n      setPostOwner(res.data);\r\n    };\r\n    postOwnerFetch();\r\n  }, [post, refresh]);\r\n\r\n  const deleteHandle = async () => {\r\n    const res = await axios.put(\"/api/post/\" + post._id + \"/favourite\", {\r\n      userId: user._id,\r\n    });\r\n    setRefresh(!refresh)\r\n    setConfirm(false);\r\n  };\r\n  const deleteConfirm = async () => {\r\n    setConfirm(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n    <Dialog style={{padding:'80px', paddingTop:'20px'}} fullWidth open={openPost} onClose={()=>setOpenPost(false)}>\r\n      <Close style={{position:'absolute', right:8, top:8}} onClick={()=>setOpenPost(false)}/>\r\n        <div style={{margin:'20px'}}>\r\n          <PostView post={post}/>\r\n        </div>\r\n    </Dialog>\r\n      <Card className={classes.card}>\r\n        <div>\r\n          <Box className={classes.box}>\r\n            <div>\r\n              <img onClick={()=>setOpenPost(true)} className={classes.postImg} src={post.img} alt=\"\" />\r\n            </div>\r\n            <div className={classes.info}>\r\n              <Typography className={classes.postNametext}>\r\n                {moment(post.createdAt).format('LLLL')}\r\n              </Typography>\r\n              <div className={classes.userInfo}>\r\n                <img\r\n                  className={classes.profileImg}\r\n                  src={postOwner?postOwner.profilePicture:'https://www.kindpng.com/picc/m/207-2074624_white-gray-circle-avatar-png-transparent-png.png'}\r\n                  alt=\"\"\r\n                  \r\n                />\r\n                <Typography style={{ marginLeft: \"5px\" }} component=\"span\">\r\n                  saved from{\" \"}\r\n                </Typography>{\" \"}\r\n                &nbsp;\r\n                <Typography style={{ fontWeight: 600 }} component=\"span\">\r\n                  {postOwner?.username}'s Post\r\n                </Typography>\r\n              </div>\r\n            </div>\r\n          </Box>\r\n        </div>\r\n        <div onClick={deleteConfirm}>\r\n          <Delete style={{ margin: \"10px\", color: \"#0D8E8E\" }} />\r\n        </div>\r\n\r\n        <Dialog open={confirm} onClose={() => setConfirm(false)}>\r\n          <DialogTitle style={{ fontWeight: 700 }}>Delete?</DialogTitle>\r\n          <hr />\r\n          <DialogContent>\r\n            Do you want to delete item from Favourite\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button\r\n              onClick={() => deleteHandle()}\r\n              variant=\"contained\"\r\n              style={{ color: \"white\", backgroundColor: \"#0D8E8E\" }}\r\n            >\r\n              Delete\r\n            </Button>\r\n            <Button\r\n              variant=\"contained\"\r\n              onClick={() => setConfirm(false)}\r\n              style={{ color: \"#0D8E8E\", backgroundColor: \"white\" }}\r\n            >\r\n              Cancel\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </Card>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default FavouriteList;\r\n"]},"metadata":{},"sourceType":"module"}