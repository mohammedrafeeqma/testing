{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/mohammed rafeeque/Desktop/sample/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/mohammed rafeeque/Desktop/sample/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _defineProperty from\"C:/Users/mohammed rafeeque/Desktop/sample/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\mohammed rafeeque\\\\Desktop\\\\sample\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{Box,Card,CardContent,CardMedia,Container,makeStyles,Typography}from\"@material-ui/core\";import{AnnouncementOutlined}from\"@material-ui/icons\";import axios from\"axios\";import{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useParams}from\"react-router\";import{listuserDetails}from\"../../../actions/productAction\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{container:_defineProperty({paddingTop:theme.spacing(10),position:\"fixed\",top:0},theme.breakpoints.down(\"sm\"),{display:\"none\"}),birthdaySpanText:{fontWeight:700},rightBarTitle:{marginTop:theme.spacing(3),marginBottom:theme.spacing(2),fontSize:\"18px\",fontWeight:500},onlineFriends:{display:\"flex\",alignItems:\"center\",position:\"relative\"},onlineFriendsIcon:{width:\"40px\",height:\"40px\",borderRadius:\"50%\",marginBottom:'9px'},onlineFriendsText:{fontWeight:500,fontSize:\"18px\",marginLeft:theme.spacing(1)},onlineIcon:{width:\"12px\",height:\"12px\",borderRadius:\"50%\",backgroundColor:\"limegreen\",position:\"absolute\",top:-6,left:24,border:\"2px solid white\"}};});function Rightbar(_ref){var onlineUsers=_ref.onlineUsers;var classes=useStyles();var userDetails=useSelector(function(state){return state.userDetails;});var loading=userDetails.loading,error=userDetails.error,user=userDetails.user;var _useState=useState(),_useState2=_slicedToArray(_useState,2),friends=_useState2[0],setFriends=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),onlineFriends=_useState4[0],setOnlineFriends=_useState4[1];var dispatch=useDispatch();var _useParams=useParams(),id=_useParams.id;useEffect(function(){dispatch(listuserDetails(id));},[id,dispatch]);useEffect(function(){var getFriends=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/api/user/friends/\"+(user===null||user===void 0?void 0:user._id));case 3:res=_context.sent;console.log(res);setFriends(res.data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function getFriends(){return _ref2.apply(this,arguments);};}();getFriends();},[user===null||user===void 0?void 0:user._id]);useEffect(function(){setOnlineFriends(friends===null||friends===void 0?void 0:friends.filter(function(f){return onlineUsers===null||onlineUsers===void 0?void 0:onlineUsers.includes(f._id);}));},[friends,onlineUsers]);return/*#__PURE__*/_jsxs(Container,{className:classes.container,children:[/*#__PURE__*/_jsx(Card,{style:{width:'25%'},children:/*#__PURE__*/_jsxs(CardContent,{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(CardMedia,{className:classes.cover,image:\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRR9-qTFZHMCeME1tDwmwOBW6rsCU-hB8W0VQ&usqp=CAU\",title:\"live from rafee\",style:{height:\"40px\",width:\"50px\",objectFit:\"contain\",marginRight:\"10px\"}}),/*#__PURE__*/_jsxs(Typography,{children:[/*#__PURE__*/_jsx(Box,{className:classes.birthdaySpanText,component:\"div\",display:\"inline\",children:\"Rafeeq Ma\"}),\" \",\"and\",/*#__PURE__*/_jsxs(Box,{component:\"div\",display:\"inline\",className:classes.birthdaySpanText,children:[\" \",\"6 other friends\",\" \"]}),\"have birthday today\"]})]})}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{className:classes.rightBarTitle,variant:\"h4\",children:\"Online Friends\"}),(onlineFriends===null||onlineFriends===void 0?void 0:onlineFriends.length)>0?onlineFriends.map(function(o){return/*#__PURE__*/_jsxs(\"div\",{className:classes.onlineFriends,children:[/*#__PURE__*/_jsx(\"img\",{src:o.profilePicture,className:classes.onlineFriendsIcon}),/*#__PURE__*/_jsx(Box,{component:\"div\",display:\"inline\",className:classes.onlineIcon}),/*#__PURE__*/_jsx(Typography,{className:classes.onlineFriendsText,children:o.username})]},o._id);}):/*#__PURE__*/_jsxs(\"div\",{style:{width:'20%',textAlign:'center'},children:[/*#__PURE__*/_jsx(AnnouncementOutlined,{style:{fontSize:'44px'}}),/*#__PURE__*/_jsx(Typography,{style:{color:'grey'},variant:\"p\",component:\"div\",children:\"You have no friends online\"}),/*#__PURE__*/_jsx(Typography,{style:{color:'grey',marginLeft:'0px'},variant:\"p\",children:\"at the moment\"})]})]})]});}export default Rightbar;","map":{"version":3,"sources":["C:/Users/mohammed rafeeque/Desktop/sample/frontend/src/components/home/rightbar/Rightbar.jsx"],"names":["Box","Card","CardContent","CardMedia","Container","makeStyles","Typography","AnnouncementOutlined","axios","useEffect","useState","useDispatch","useSelector","useParams","listuserDetails","useStyles","theme","container","paddingTop","spacing","position","top","breakpoints","down","display","birthdaySpanText","fontWeight","rightBarTitle","marginTop","marginBottom","fontSize","onlineFriends","alignItems","onlineFriendsIcon","width","height","borderRadius","onlineFriendsText","marginLeft","onlineIcon","backgroundColor","left","border","Rightbar","onlineUsers","classes","userDetails","state","loading","error","user","friends","setFriends","setOnlineFriends","dispatch","id","getFriends","get","_id","res","console","log","data","filter","f","includes","cover","objectFit","marginRight","length","map","o","profilePicture","username","textAlign","color"],"mappings":"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","sourcesContent":["import {\r\n  Box,\r\n  Card,\r\n  CardContent,\r\n  CardMedia,\r\n  Container,\r\n  makeStyles,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { AnnouncementOutlined } from \"@material-ui/icons\";\r\nimport axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router\";\r\nimport { listuserDetails } from \"../../../actions/productAction\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    paddingTop: theme.spacing(10),\r\n    position: \"fixed\",\r\n    top: 0,\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n  birthdaySpanText: {\r\n    fontWeight: 700,\r\n  },\r\n  rightBarTitle: {\r\n    marginTop: theme.spacing(3),\r\n    marginBottom: theme.spacing(2),\r\n    fontSize: \"18px\",\r\n    fontWeight: 500,\r\n  },\r\n  onlineFriends: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    position: \"relative\",\r\n  },\r\n  onlineFriendsIcon: {\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n    borderRadius: \"50%\",\r\n    marginBottom:'9px'\r\n  },\r\n  onlineFriendsText: {\r\n    fontWeight: 500,\r\n    fontSize: \"18px\",\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n  onlineIcon: {\r\n    width: \"12px\",\r\n    height: \"12px\",\r\n    borderRadius: \"50%\",\r\n    backgroundColor: \"limegreen\",\r\n    position: \"absolute\",\r\n    top: -6,\r\n    left: 24,\r\n    border: \"2px solid white\",\r\n  },\r\n}));\r\n\r\nfunction Rightbar({onlineUsers}) {\r\n  const classes = useStyles();\r\n\r\n  const userDetails = useSelector((state) => state.userDetails);\r\n  const { loading, error, user } = userDetails;\r\n  const[friends, setFriends] = useState()\r\n  const[onlineFriends, setOnlineFriends] = useState()\r\n  const dispatch = useDispatch();\r\n  let { id } = useParams();\r\n  useEffect(() => {\r\n    dispatch(listuserDetails(id));\r\n  }, [id, dispatch]);\r\n\r\n  useEffect(() => {\r\n        \r\n    const getFriends = async () => {\r\n        try {\r\n             const res = await axios.get(\"/api/user/friends/\" + user?._id);\r\n             console.log(res);\r\n      setFriends(res.data);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n     \r\n    };\r\n    getFriends();\r\n  },[user?._id]);\r\n\r\n  useEffect(() => {\r\n    setOnlineFriends(friends?.filter((f) => onlineUsers?.includes(f._id)));\r\n  }, [friends, onlineUsers]);\r\n  \r\n\r\n  return (\r\n    <Container className={classes.container}>\r\n      <Card style={{width:'25%'}}>\r\n        <CardContent style={{ display: \"flex\" }}>\r\n          <CardMedia\r\n            className={classes.cover}\r\n            image=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRR9-qTFZHMCeME1tDwmwOBW6rsCU-hB8W0VQ&usqp=CAU\"\r\n            title=\"live from rafee\"\r\n            style={{\r\n              height: \"40px\",\r\n              width: \"50px\",\r\n              objectFit: \"contain\",\r\n              marginRight: \"10px\",\r\n            }}\r\n          />\r\n          <Typography>\r\n            <Box\r\n              className={classes.birthdaySpanText}\r\n              component=\"div\"\r\n              display=\"inline\"\r\n            >\r\n              Rafeeq Ma\r\n            </Box>{\" \"}\r\n            and\r\n            <Box\r\n              component=\"div\"\r\n              display=\"inline\"\r\n              className={classes.birthdaySpanText}\r\n            >\r\n              {\" \"}\r\n              6 other friends{\" \"}\r\n            </Box>\r\n            have birthday today\r\n          </Typography>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Box>\r\n        <Typography className={classes.rightBarTitle} variant=\"h4\">\r\n          Online Friends\r\n        </Typography>\r\n\r\n        {onlineFriends?.length>0? onlineFriends.map((o)=>{\r\n          return(\r\n            <div key={o._id} className={classes.onlineFriends}>\r\n          <img src={o.profilePicture} className={classes.onlineFriendsIcon} />\r\n          <Box\r\n            component=\"div\"\r\n            display=\"inline\"\r\n            className={classes.onlineIcon}\r\n          ></Box>\r\n          <Typography className={classes.onlineFriendsText}>{o.username}</Typography>\r\n        </div>\r\n          )\r\n        }):<div style={{width:'20%',textAlign:'center'}}>\r\n          <AnnouncementOutlined style={{fontSize:'44px'}}/>\r\n          <Typography style={{color:'grey'}} variant=\"p\" component='div'>You have no friends online</Typography>\r\n          \r\n          <Typography style={{color:'grey',marginLeft:'0px'}} variant=\"p\">at the moment</Typography>\r\n          \r\n          </div>}\r\n        \r\n\r\n        \r\n\r\n       \r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Rightbar;\r\n"]},"metadata":{},"sourceType":"module"}