{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/mohammed rafeeque/Desktop/sample/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/mohammed rafeeque/Desktop/sample/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _defineProperty from\"C:/Users/mohammed rafeeque/Desktop/sample/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\mohammed rafeeque\\\\Desktop\\\\sample\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{Button,makeStyles,TextField,Typography}from\"@material-ui/core\";import{green}from\"@material-ui/core/colors\";import{useEffect,useState}from\"react\";import Signup from\"../../components/signup/Signup\";import axios from\"axios\";import{Alert}from\"@mui/material\";import{useNavigate}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{display:\"flex\",flexDirection:\"column\"},button:{backgroundColor:\"#0D8E8E\",\"&:hover\":{backgroundColor:\"#0D8E8f\"},color:\"white\",marginTop:theme.spacing(1)},loginRegisterButton:_defineProperty({width:\"75%\",backgroundColor:green[600],color:\"white\",\"&:hover\":{backgroundColor:green[800]}},theme.breakpoints.down(\"sm\"),{width:\"100%\",fontSize:\"12px\"}),registerButtonDiv:{display:\"flex\",justifyContent:\"center\"},login:{width:\"100vw\",height:\"100vh\",backgroundColor:\"#f0f2f5\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",overflowY:\"hidden\"},loginWrapper:_defineProperty({width:\"70%\",height:\"70%\",display:\"flex\"},theme.breakpoints.down(\"sm\"),{display:\"flex\",flexDirection:\"column\"}),loginLeft:{flex:1,display:\"flex\",flexDirection:\"column\",justifyContent:\"center\"},loginRight:{flex:1,display:\"flex\",flexDirection:\"column\",justifyContent:\"center\"},loginDesc:_defineProperty({fontSize:\"24px\"},theme.breakpoints.down(\"sm\"),{fontSize:\"18px\"}),loginLogo:_defineProperty({fontSize:\"50px\",fontWeight:800,color:\"#0D8E8E\",marginBottom:\"10px\"},theme.breakpoints.down(\"sm\"),{fontSize:\"24px\",fontWeight:800}),loginBox:{height:\"350px\",padding:\"20px\",backgroundColor:\"white\",borderRadius:\"10px\",display:\"flex\",flexDirection:\"column\",justifyContent:\"spaceBetween\"},textfield:{marginBottom:theme.spacing(3)},loginForgot:{textAlign:\"center\",color:\"#1775ee\",marginTop:theme.spacing(2),marginBottom:theme.spacing(2)}};});function Login(){var navigate=useNavigate();var token=localStorage.getItem(\"token\");var userId=localStorage.getItem(\"userId\");useEffect(function(){if(token){navigate(\"/\".concat(userId));}},[token,userId]);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var classes=useStyles();var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),uerror=_useState8[0],setuError=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),error=_useState10[0],setError=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),perror=_useState12[0],setpError=_useState12[1];var handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var data,res,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();setuError(\"\");setpError(\"\");if(!(username.trim()===\"\")){_context.next=5;break;}return _context.abrupt(\"return\",setuError(\"username Required\"));case 5:if(!(password.trim()===\"\")){_context.next=7;break;}return _context.abrupt(\"return\",setpError(\"Password required\"));case 7:console.log(username);data={username:username,password:password};_context.prev=9;_context.next=12;return axios.post(\"/api/auth/login\",data);case 12:res=_context.sent;if(res){localStorage.setItem(\"token\",res.data.token);localStorage.setItem(\"userId\",res.data.user._id);navigate(\"/\".concat(res.data.user._id));}_context.next=21;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](9);response=_context.t0.response;if(response.status){console.log(response.data);setError(response.data);}console.log(response.status);case 21:case\"end\":return _context.stop();}}},_callee,null,[[9,16]]);}));return function handleLogin(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:classes.login,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.loginWrapper,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.loginLeft,children:[/*#__PURE__*/_jsx(Typography,{className:classes.loginLogo,variant:\"h3\",children:\"Social Chat\"}),/*#__PURE__*/_jsx(Typography,{className:classes.logoDesc,variant:\"span\",children:\"Connect with friends and the world around you on Social Chat.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.loginRight,children:/*#__PURE__*/_jsx(\"div\",{className:classes.loginBox,children:/*#__PURE__*/_jsxs(\"form\",{className:classes.root,children:[error?/*#__PURE__*/_jsx(Alert,{className:classes.alert,severity:\"error\",children:error}):\"\",/*#__PURE__*/_jsx(TextField,{error:uerror,helperText:uerror?\"username required *\":\"\",value:username,onChange:function onChange(e){return setUsername(e.target.value);},className:classes.textfield,label:\"username\"}),/*#__PURE__*/_jsx(TextField,{error:perror,helperText:perror?\"password required *\":\"\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},className:classes.textfield,label:\"password\"}),/*#__PURE__*/_jsx(Button,{onClick:handleLogin,className:classes.button,variant:\"contained\",large:true,children:\"Login\"}),/*#__PURE__*/_jsx(Typography,{className:classes.loginForgot,variant:\"span\",children:\"Forgot Password?\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.registerButtonDiv,children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return setOpen(true);},className:classes.loginRegisterButton,variant:\"contained\",large:true,children:\"Create New Account\"})})]})})})]}),/*#__PURE__*/_jsx(Signup,{open:open,setOpen:setOpen})]});}export default Login;","map":{"version":3,"sources":["C:/Users/mohammed rafeeque/Desktop/sample/frontend/src/pages/user/Login.jsx"],"names":["Button","makeStyles","TextField","Typography","green","useEffect","useState","Signup","axios","Alert","useNavigate","useStyles","theme","root","display","flexDirection","button","backgroundColor","color","marginTop","spacing","loginRegisterButton","width","breakpoints","down","fontSize","registerButtonDiv","justifyContent","login","height","alignItems","overflowY","loginWrapper","loginLeft","flex","loginRight","loginDesc","loginLogo","fontWeight","marginBottom","loginBox","padding","borderRadius","textfield","loginForgot","textAlign","Login","navigate","token","localStorage","getItem","userId","open","setOpen","classes","username","setUsername","password","setPassword","uerror","setuError","error","setError","perror","setpError","handleLogin","e","preventDefault","trim","console","log","data","post","res","setItem","user","_id","response","status","logoDesc","alert","target","value"],"mappings":"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","sourcesContent":["import { Button, makeStyles, TextField, Typography } from \"@material-ui/core\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Signup from \"../../components/signup/Signup\";\r\nimport axios from \"axios\";\r\nimport { Alert } from \"@mui/material\";\r\nimport { useNavigate } from \"react-router\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  button: {\r\n    backgroundColor: \"#0D8E8E\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"#0D8E8f\",\r\n    },\r\n    color: \"white\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  loginRegisterButton: {\r\n    width: \"75%\",\r\n    backgroundColor: green[600],\r\n    color: \"white\",\r\n    \"&:hover\": {\r\n      backgroundColor: green[800],\r\n    },\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100%\",\r\n      fontSize: \"12px\",\r\n    },\r\n  },\r\n  registerButtonDiv: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n  },\r\n  login: {\r\n    width: \"100vw\",\r\n    height: \"100vh\",\r\n    backgroundColor: \"#f0f2f5\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    overflowY: \"hidden\",\r\n  },\r\n  loginWrapper: {\r\n    width: \"70%\",\r\n    height: \"70%\",\r\n    display: \"flex\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n  loginLeft: {\r\n    flex: 1,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n  },\r\n  loginRight: {\r\n    flex: 1,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n  },\r\n  loginDesc: {\r\n    fontSize: \"24px\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      fontSize: \"18px\",\r\n    },\r\n  },\r\n  loginLogo: {\r\n    fontSize: \"50px\",\r\n    fontWeight: 800,\r\n    color: \"#0D8E8E\",\r\n    marginBottom: \"10px\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      fontSize: \"24px\",\r\n      fontWeight: 800,\r\n    },\r\n  },\r\n\r\n  loginBox: {\r\n    height: \"350px\",\r\n    padding: \"20px\",\r\n    backgroundColor: \"white\",\r\n    borderRadius: \"10px\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"spaceBetween\",\r\n  },\r\n  textfield: {\r\n    marginBottom: theme.spacing(3),\r\n  },\r\n\r\n  loginForgot: {\r\n    textAlign: \"center\",\r\n    color: \"#1775ee\",\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nfunction Login() {\r\n  const navigate = useNavigate();\r\n  const token = localStorage.getItem(\"token\");\r\n    const userId = localStorage.getItem(\"userId\");\r\n  useEffect(() => {\r\n    \r\n    \r\n    if (token) {\r\n  \r\n      navigate(`/${userId}`);\r\n    }\r\n  },[token,userId]);\r\n  const [open, setOpen] = useState(false);\r\n  const classes = useStyles();\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [uerror, setuError] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [perror, setpError] = useState(\"\"); \r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    setuError(\"\");\r\n    setpError(\"\");\r\n    if (username.trim() === \"\") {\r\n      return setuError(\"username Required\");\r\n    }\r\n    if (password.trim() === \"\") {\r\n      return setpError(\"Password required\");\r\n    }\r\n    console.log(username);\r\n    const data = { username, password };\r\n\r\n    try {\r\n      let res = await axios.post(\"/api/auth/login\", data);\r\n      if (res) {\r\n        localStorage.setItem(\"token\", res.data.token);\r\n        localStorage.setItem(\"userId\", res.data.user._id);\r\n\r\n        navigate(`/${res.data.user._id}`);\r\n      }\r\n    } catch ({ response }) {\r\n      if (response.status) {\r\n        console.log(response.data);\r\n        setError(response.data);\r\n      }\r\n      console.log(response.status);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.login}>\r\n      <div className={classes.loginWrapper}>\r\n        <div className={classes.loginLeft}>\r\n          <Typography className={classes.loginLogo} variant=\"h3\">\r\n            Social Chat\r\n          </Typography>\r\n          <Typography className={classes.logoDesc} variant=\"span\">\r\n            Connect with friends and the world around you on Social Chat.\r\n          </Typography>\r\n        </div>\r\n        <div className={classes.loginRight}>\r\n          <div className={classes.loginBox}>\r\n            <form className={classes.root}>\r\n              {error ? (\r\n                <Alert className={classes.alert} severity=\"error\">\r\n                  {error}\r\n                </Alert>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n\r\n              <TextField\r\n                error={uerror}\r\n                helperText={uerror ? \"username required *\" : \"\"}\r\n                value={username}\r\n                onChange={(e) => setUsername(e.target.value)}\r\n                className={classes.textfield}\r\n                label=\"username\"\r\n              />\r\n              <TextField\r\n                error={perror}\r\n                helperText={perror ? \"password required *\" : \"\"}\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                className={classes.textfield}\r\n                label=\"password\"\r\n              />\r\n              <Button\r\n                onClick={handleLogin}\r\n                className={classes.button}\r\n                variant=\"contained\"\r\n                large\r\n              >\r\n                Login\r\n              </Button>\r\n              <Typography className={classes.loginForgot} variant=\"span\">\r\n                Forgot Password?\r\n              </Typography>\r\n              <div className={classes.registerButtonDiv}>\r\n                <Button\r\n                  onClick={() => setOpen(true)}\r\n                  className={classes.loginRegisterButton}\r\n                  variant=\"contained\"\r\n                  large\r\n                >\r\n                  Create New Account\r\n                </Button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Signup open={open} setOpen={setOpen} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}