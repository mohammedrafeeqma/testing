{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mohammed rafeeque\\\\Desktop\\\\sample\\\\frontend\\\\src\\\\pages\\\\user\\\\Login.jsx\",\n    _s = $RefreshSig$();\n\nimport { Button, makeStyles, TextField, Typography } from \"@material-ui/core\";\nimport { green } from \"@material-ui/core/colors\";\nimport { useEffect, useState } from \"react\";\nimport Signup from \"../../components/signup/Signup\";\nimport axios from \"axios\";\nimport { Alert } from \"@mui/material\";\nimport { useNavigate } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  button: {\n    backgroundColor: \"#0D8E8E\",\n    \"&:hover\": {\n      backgroundColor: \"#0D8E8f\"\n    },\n    color: \"white\",\n    marginTop: theme.spacing(1)\n  },\n  loginRegisterButton: {\n    width: \"75%\",\n    backgroundColor: green[600],\n    color: \"white\",\n    \"&:hover\": {\n      backgroundColor: green[800]\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"100%\",\n      fontSize: \"12px\"\n    }\n  },\n  registerButtonDiv: {\n    display: \"flex\",\n    justifyContent: \"center\"\n  },\n  login: {\n    width: \"100vw\",\n    height: \"100vh\",\n    backgroundColor: \"#f0f2f5\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    overflowY: \"hidden\"\n  },\n  loginWrapper: {\n    width: \"70%\",\n    height: \"70%\",\n    display: \"flex\",\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"flex\",\n      flexDirection: \"column\"\n    }\n  },\n  loginLeft: {\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\"\n  },\n  loginRight: {\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\"\n  },\n  loginDesc: {\n    fontSize: \"24px\",\n    [theme.breakpoints.down(\"sm\")]: {\n      fontSize: \"18px\"\n    }\n  },\n  loginLogo: {\n    fontSize: \"50px\",\n    fontWeight: 800,\n    color: \"#0D8E8E\",\n    marginBottom: \"10px\",\n    [theme.breakpoints.down(\"sm\")]: {\n      fontSize: \"24px\",\n      fontWeight: 800\n    }\n  },\n  loginBox: {\n    height: \"350px\",\n    padding: \"20px\",\n    backgroundColor: \"white\",\n    borderRadius: \"10px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"spaceBetween\"\n  },\n  textfield: {\n    marginBottom: theme.spacing(3)\n  },\n  loginForgot: {\n    textAlign: \"center\",\n    color: \"#1775ee\",\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2)\n  }\n}));\n\nfunction Login() {\n  _s();\n\n  const navigate = useNavigate();\n  const token = localStorage.getItem(\"token\");\n  const userId = localStorage.getItem(\"userId\");\n  useEffect(() => {\n    if (token) {\n      navigate(`/${userId}`);\n    }\n  }, [token, userId]);\n  const [open, setOpen] = useState(false);\n  const classes = useStyles();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [uerror, setuError] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [perror, setpError] = useState(\"\");\n\n  const handleLogin = async e => {\n    e.preventDefault();\n    setuError(\"\");\n    setpError(\"\");\n\n    if (username.trim() === \"\") {\n      return setuError(\"username Required\");\n    }\n\n    if (password.trim() === \"\") {\n      return setpError(\"Password required\");\n    }\n\n    console.log(username);\n    const data = {\n      username,\n      password\n    };\n\n    try {\n      let res = await axios.post(\"/api/auth/login\", data);\n\n      if (res) {\n        localStorage.setItem(\"token\", res.data.token);\n        localStorage.setItem(\"userId\", res.data.user._id);\n        navigate(`/${res.data.user._id}`);\n      }\n    } catch ({\n      response\n    }) {\n      if (response.status) {\n        console.log(response.data);\n        setError(response.data);\n      }\n\n      console.log(response.status);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.login,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.loginWrapper,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.loginLeft,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          className: classes.loginLogo,\n          variant: \"h3\",\n          children: \"Social Chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          className: classes.logoDesc,\n          variant: \"span\",\n          children: \"Connect with friends and the world around you on Social Chat.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.loginRight,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.loginBox,\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            className: classes.root,\n            children: [error ? /*#__PURE__*/_jsxDEV(Alert, {\n              className: classes.alert,\n              severity: \"error\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this) : \"\", /*#__PURE__*/_jsxDEV(TextField, {\n              error: uerror,\n              helperText: uerror ? \"username required *\" : \"\",\n              value: username,\n              onChange: e => setUsername(e.target.value),\n              className: classes.textfield,\n              label: \"username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              error: perror,\n              helperText: perror ? \"password required *\" : \"\",\n              value: password,\n              onChange: e => setPassword(e.target.value),\n              className: classes.textfield,\n              label: \"password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleLogin,\n              className: classes.button,\n              variant: \"contained\",\n              large: true,\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.loginForgot,\n              variant: \"span\",\n              children: \"Forgot Password?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.registerButtonDiv,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                onClick: () => setOpen(true),\n                className: classes.loginRegisterButton,\n                variant: \"contained\",\n                large: true,\n                children: \"Create New Account\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Signup, {\n      open: open,\n      setOpen: setOpen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"9o2NkG3D1MKBsRhfRmjNW9+F6E4=\", false, function () {\n  return [useNavigate, useStyles];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/mohammed rafeeque/Desktop/sample/frontend/src/pages/user/Login.jsx"],"names":["Button","makeStyles","TextField","Typography","green","useEffect","useState","Signup","axios","Alert","useNavigate","useStyles","theme","root","display","flexDirection","button","backgroundColor","color","marginTop","spacing","loginRegisterButton","width","breakpoints","down","fontSize","registerButtonDiv","justifyContent","login","height","alignItems","overflowY","loginWrapper","loginLeft","flex","loginRight","loginDesc","loginLogo","fontWeight","marginBottom","loginBox","padding","borderRadius","textfield","loginForgot","textAlign","Login","navigate","token","localStorage","getItem","userId","open","setOpen","classes","username","setUsername","password","setPassword","uerror","setuError","error","setError","perror","setpError","handleLogin","e","preventDefault","trim","console","log","data","res","post","setItem","user","_id","response","status","logoDesc","alert","target","value"],"mappings":"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","sourcesContent":["import { Button, makeStyles, TextField, Typography } from \"@material-ui/core\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Signup from \"../../components/signup/Signup\";\r\nimport axios from \"axios\";\r\nimport { Alert } from \"@mui/material\";\r\nimport { useNavigate } from \"react-router\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  button: {\r\n    backgroundColor: \"#0D8E8E\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"#0D8E8f\",\r\n    },\r\n    color: \"white\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  loginRegisterButton: {\r\n    width: \"75%\",\r\n    backgroundColor: green[600],\r\n    color: \"white\",\r\n    \"&:hover\": {\r\n      backgroundColor: green[800],\r\n    },\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100%\",\r\n      fontSize: \"12px\",\r\n    },\r\n  },\r\n  registerButtonDiv: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n  },\r\n  login: {\r\n    width: \"100vw\",\r\n    height: \"100vh\",\r\n    backgroundColor: \"#f0f2f5\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    overflowY: \"hidden\",\r\n  },\r\n  loginWrapper: {\r\n    width: \"70%\",\r\n    height: \"70%\",\r\n    display: \"flex\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n  loginLeft: {\r\n    flex: 1,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n  },\r\n  loginRight: {\r\n    flex: 1,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n  },\r\n  loginDesc: {\r\n    fontSize: \"24px\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      fontSize: \"18px\",\r\n    },\r\n  },\r\n  loginLogo: {\r\n    fontSize: \"50px\",\r\n    fontWeight: 800,\r\n    color: \"#0D8E8E\",\r\n    marginBottom: \"10px\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      fontSize: \"24px\",\r\n      fontWeight: 800,\r\n    },\r\n  },\r\n\r\n  loginBox: {\r\n    height: \"350px\",\r\n    padding: \"20px\",\r\n    backgroundColor: \"white\",\r\n    borderRadius: \"10px\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"spaceBetween\",\r\n  },\r\n  textfield: {\r\n    marginBottom: theme.spacing(3),\r\n  },\r\n\r\n  loginForgot: {\r\n    textAlign: \"center\",\r\n    color: \"#1775ee\",\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nfunction Login() {\r\n  const navigate = useNavigate();\r\n  const token = localStorage.getItem(\"token\");\r\n    const userId = localStorage.getItem(\"userId\");\r\n  useEffect(() => {\r\n    \r\n    \r\n    if (token) {\r\n  \r\n      navigate(`/${userId}`);\r\n    }\r\n  },[token,userId]);\r\n  const [open, setOpen] = useState(false);\r\n  const classes = useStyles();\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [uerror, setuError] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [perror, setpError] = useState(\"\"); \r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    setuError(\"\");\r\n    setpError(\"\");\r\n    if (username.trim() === \"\") {\r\n      return setuError(\"username Required\");\r\n    }\r\n    if (password.trim() === \"\") {\r\n      return setpError(\"Password required\");\r\n    }\r\n    console.log(username);\r\n    const data = { username, password };\r\n\r\n    try {\r\n      let res = await axios.post(\"/api/auth/login\", data);\r\n      if (res) {\r\n        localStorage.setItem(\"token\", res.data.token);\r\n        localStorage.setItem(\"userId\", res.data.user._id);\r\n\r\n        navigate(`/${res.data.user._id}`);\r\n      }\r\n    } catch ({ response }) {\r\n      if (response.status) {\r\n        console.log(response.data);\r\n        setError(response.data);\r\n      }\r\n      console.log(response.status);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.login}>\r\n      <div className={classes.loginWrapper}>\r\n        <div className={classes.loginLeft}>\r\n          <Typography className={classes.loginLogo} variant=\"h3\">\r\n            Social Chat\r\n          </Typography>\r\n          <Typography className={classes.logoDesc} variant=\"span\">\r\n            Connect with friends and the world around you on Social Chat.\r\n          </Typography>\r\n        </div>\r\n        <div className={classes.loginRight}>\r\n          <div className={classes.loginBox}>\r\n            <form className={classes.root}>\r\n              {error ? (\r\n                <Alert className={classes.alert} severity=\"error\">\r\n                  {error}\r\n                </Alert>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n\r\n              <TextField\r\n                error={uerror}\r\n                helperText={uerror ? \"username required *\" : \"\"}\r\n                value={username}\r\n                onChange={(e) => setUsername(e.target.value)}\r\n                className={classes.textfield}\r\n                label=\"username\"\r\n              />\r\n              <TextField\r\n                error={perror}\r\n                helperText={perror ? \"password required *\" : \"\"}\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                className={classes.textfield}\r\n                label=\"password\"\r\n              />\r\n              <Button\r\n                onClick={handleLogin}\r\n                className={classes.button}\r\n                variant=\"contained\"\r\n                large\r\n              >\r\n                Login\r\n              </Button>\r\n              <Typography className={classes.loginForgot} variant=\"span\">\r\n                Forgot Password?\r\n              </Typography>\r\n              <div className={classes.registerButtonDiv}>\r\n                <Button\r\n                  onClick={() => setOpen(true)}\r\n                  className={classes.loginRegisterButton}\r\n                  variant=\"contained\"\r\n                  large\r\n                >\r\n                  Create New Account\r\n                </Button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Signup open={open} setOpen={setOpen} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}